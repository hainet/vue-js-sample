<!DOCTYPE html>
<html xmlns:v-on="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />

    <title>Transition</title>
    <meta name="author" content="hainet" />

    <script src="../../js/vue/vue.js"></script>

    <style>
      .fade-enter-active, .fade-leave-active {
        transition: opacity 0.5s
      }
      .fade-enter, .fade-leave-to {
        opacity: 0
      }
    </style>
  </head>

  <body>
    <h1>Transition</h1>

    <h2>Transition</h2>
    <div id="transition">
      <button v-on:click="show = !show">
        Toggle
      </button>
      <transition name="fade">
        <p v-if="show">This is transient!</p>
      </transition>
    </div>

    <h2>JavaScript Hook</h2>
    <div id="javascript-hook">
      <button v-on:click="show = !show">
        Toggle
      </button>
      <transition name="fade"
          v-on:before-enter="beforeEnter"
          v-on:enter="enter"
          v-on:after-enter="afterEnter"
          v-on:enter-cancelled="enterCancelled"
          v-on:before-leave="beforeLeave"
          v-on:leave="leave"
          v-on:after-leave="afterLeave"
          v-on:leave-cancelled="leaveCancelled">
        <p v-if="show">Look at console!</p>
      </transition>
    </div>

    <script>
      var transitionVm = new Vue({
          el: '#transition',
          data: {
              show: true
          }
      })

      var javascriptHookVm = new Vue({
          el: '#javascript-hook',
          data: {
              show: true
          },
          methods: {
              beforeEnter: function (el) {
                  console.log('Before enter')
                  console.log(el)
              },
              enter: function (el, done) {
                  console.log('Enter')
                  console.log(el)
                  done()
              },
              afterEnter: function (el) {
                  console.log('After enter')
                  console.log(el)
              },
              enterCancelled: function (el) {
                  console.log('Enter canceled')
                  console.log(el)
              },
              beforeLeave: function (el) {
                  console.log('Before leave')
                  console.log(el)
              },
              leave: function (el, done) {
                  console.log('Leave')
                  console.log(el)
                  done()
              },
              afterLeave: function (el) {
                  console.log('After leave')
                  console.log(el)
              },
              leaveCancelled: function (el) {
                  console.log('Leave canceled')
                  console.log(el)
              }
          }
      })
    </script>
  </body>
</html>
